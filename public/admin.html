<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Admin ‚Äî Switch</title>
    <meta name="robots" content="noindex, nofollow"/>
    <link rel="icon" type="image/png" href="logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.snow.min.css" rel="stylesheet">
    <style>
        :root {
            --primary: #FBBF24;
            --bg: #0A0A0A;
            --surface: #0f0f0f;
            --surface-2: #161616;
            --surface-3: #1e1e1e;
            --border: #222222;
            --border-2: #2d2d2d;
            --text: #F0F0F0;
            --muted: #707070;
            --danger: #ef4444;
            --success: #22c55e;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html, body { height: 100%; overflow: hidden; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); font-size: 14px; }
        h1, h2, h3 { font-family: 'Space Grotesk', sans-serif; font-weight: 700; }

        /* ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ */
        #login-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background: var(--bg);
        }

        .login-card {
            width: 100%;
            max-width: 380px;
            padding: 0 1.5rem;
        }

        .login-logo {
            height: 36px;
            display: block;
            margin: 0 auto 2.5rem;
        }

        .login-title {
            font-size: 1.25rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 0.375rem;
        }

        .login-sub {
            text-align: center;
            color: var(--muted);
            font-size: 0.8rem;
            margin-bottom: 2rem;
        }

        .login-field {
            position: relative;
            margin-bottom: 0.875rem;
        }

        .login-field input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: var(--surface-2);
            border: 1px solid var(--border-2);
            border-radius: 6px;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            outline: none;
            transition: border-color 0.15s;
        }

        .login-field input:focus { border-color: var(--primary); }

        .login-error {
            display: none;
            background: rgba(239,68,68,0.08);
            border: 1px solid rgba(239,68,68,0.25);
            color: #f87171;
            border-radius: 6px;
            padding: 0.625rem 1rem;
            font-size: 0.8rem;
            margin-bottom: 0.875rem;
            text-align: center;
        }

        /* ‚îÄ‚îÄ APP SHELL ‚îÄ‚îÄ */
        #app { display: none; height: 100vh; flex-direction: column; }

        /* ‚îÄ‚îÄ TOP BAR ‚îÄ‚îÄ */
        .topbar {
            height: 52px;
            background: var(--surface);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            padding: 0 1.25rem;
            gap: 1rem;
            flex-shrink: 0;
            z-index: 10;
        }

        .topbar-brand {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-right: 1.5rem;
        }

        .topbar-logo { height: 26px; }

        .topbar-badge {
            font-size: 0.62rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--primary);
            background: rgba(251,191,36,0.1);
            border: 1px solid rgba(251,191,36,0.2);
            padding: 2px 8px;
            border-radius: 3px;
        }

        .topbar-nav {
            display: flex;
            align-items: center;
            gap: 2px;
            flex: 1;
        }

        .nav-tab {
            padding: 0.4rem 1rem;
            border-radius: 5px;
            border: none;
            background: transparent;
            color: var(--muted);
            font-family: 'Inter', sans-serif;
            font-size: 0.825rem;
            font-weight: 600;
            cursor: pointer;
            transition: color 0.15s, background 0.15s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-tab:hover { color: var(--text); background: var(--surface-2); }
        .nav-tab.active { color: var(--primary); background: rgba(251,191,36,0.08); }

        .nav-tab-icon { font-size: 0.85rem; }

        .topbar-right {
            display: flex;
            align-items: center;
            gap: 0.625rem;
        }

        /* ‚îÄ‚îÄ WORKSPACE ‚îÄ‚îÄ */
        .workspace {
            flex: 1;
            display: flex;
            overflow: hidden;
        }

        .panel { display: none; width: 100%; }
        .panel.active { display: flex; }

        /* ‚îÄ‚îÄ SIDEBAR ‚îÄ‚îÄ */
        .sidebar {
            width: 300px;
            flex-shrink: 0;
            background: var(--surface);
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .sidebar-head {
            padding: 0.875rem 1rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 0.625rem;
        }

        .sidebar-head-title {
            font-size: 0.72rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.14em;
            color: var(--muted);
            flex: 1;
        }

        .sidebar-search {
            padding: 0.625rem 1rem;
            border-bottom: 1px solid var(--border);
            position: relative;
        }

        .sidebar-search input {
            width: 100%;
            padding: 0.5rem 0.75rem 0.5rem 2rem;
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: 5px;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            outline: none;
            transition: border-color 0.15s;
        }

        .sidebar-search input:focus { border-color: var(--primary); }
        .sidebar-search input::placeholder { color: #404040; }

        .sidebar-search-icon {
            position: absolute;
            left: 1.625rem;
            top: 50%;
            transform: translateY(-50%);
            color: #404040;
            pointer-events: none;
        }

        .items-list {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }

        .items-list::-webkit-scrollbar { width: 3px; }
        .items-list::-webkit-scrollbar-thumb { background: var(--border-2); }

        .list-item {
            padding: 0.875rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            border: 1px solid transparent;
            margin-bottom: 2px;
            transition: all 0.12s;
        }

        .list-item:hover { background: var(--surface-2); }
        .list-item.active { background: var(--surface-2); border-color: rgba(251,191,36,0.2); }

        .list-item-title {
            font-weight: 600;
            font-size: 0.875rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            margin-bottom: 0.375rem;
            color: var(--muted);
            transition: color 0.12s;
        }

        .list-item.active .list-item-title { color: var(--text); }

        .list-item-meta {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.72rem;
            color: var(--muted);
        }

        .badge {
            display: inline-flex;
            align-items: center;
            padding: 1px 7px;
            border-radius: 3px;
            font-size: 0.65rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        .badge-live { background: rgba(34,197,94,0.1); color: #4ade80; border: 1px solid rgba(34,197,94,0.2); }
        .badge-draft { background: var(--surface-3); color: var(--muted); border: 1px solid var(--border); }
        .badge-featured { background: rgba(251,191,36,0.1); color: var(--primary); border: 1px solid rgba(251,191,36,0.2); }

        .no-items {
            padding: 3rem 1.5rem;
            text-align: center;
            color: var(--muted);
            font-size: 0.8rem;
            line-height: 1.8;
        }

        /* ‚îÄ‚îÄ EDITOR ‚îÄ‚îÄ */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            background: var(--bg);
        }

        .editor-empty {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            color: var(--muted);
        }

        .editor-empty-icon {
            width: 56px;
            height: 56px;
            border: 1px solid var(--border);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: var(--surface);
        }

        .editor-empty p { font-size: 0.875rem; }

        .editor-form { display: none; flex: 1; flex-direction: column; overflow: hidden; }

        /* ‚îÄ‚îÄ EDITOR TOOLBAR ‚îÄ‚îÄ */
        .editor-bar {
            padding: 0.75rem 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            gap: 0.625rem;
            background: var(--surface);
            flex-shrink: 0;
        }

        .editor-bar-sep { width: 1px; height: 20px; background: var(--border); margin: 0 0.25rem; }
        .editor-bar-spacer { flex: 1; }

        /* ‚îÄ‚îÄ EDITOR BODY ‚îÄ‚îÄ */
        .editor-body {
            flex: 1;
            overflow-y: auto;
            padding: 2rem 2.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .editor-body::-webkit-scrollbar { width: 4px; }
        .editor-body::-webkit-scrollbar-thumb { background: var(--border-2); }

        /* ‚îÄ‚îÄ FORM ELEMENTS ‚îÄ‚îÄ */
        .field-group { display: flex; flex-direction: column; gap: 0.5rem; }
        .field-label { font-size: 0.7rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.14em; color: var(--muted); }

        .field-input,
        .field-textarea,
        .field-select {
            padding: 0.625rem 0.875rem;
            background: var(--surface-2);
            border: 1px solid var(--border-2);
            border-radius: 5px;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            font-size: 0.875rem;
            outline: none;
            transition: border-color 0.15s;
            width: 100%;
        }

        .field-input:focus, .field-textarea:focus, .field-select:focus { border-color: var(--primary); }
        .field-input::placeholder, .field-textarea::placeholder { color: #383838; }
        .field-textarea { resize: vertical; }

        /* Post title - big */
        .post-title-input {
            padding: 0.5rem 0;
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--border);
            border-radius: 0;
            color: var(--text);
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.6rem;
            font-weight: 700;
            outline: none;
            width: 100%;
            transition: border-color 0.15s;
        }
        .post-title-input:focus { border-color: var(--primary); }
        .post-title-input::placeholder { color: #383838; }

        .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
        .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; }

        /* ‚îÄ‚îÄ QUILL ‚îÄ‚îÄ */
        .ql-toolbar.ql-snow {
            background: var(--surface-2) !important;
            border: 1px solid var(--border-2) !important;
            border-radius: 5px 5px 0 0 !important;
        }
        .ql-container.ql-snow {
            background: var(--surface-2) !important;
            border: 1px solid var(--border-2) !important;
            border-top: none !important;
            border-radius: 0 0 5px 5px !important;
            color: var(--text) !important;
            min-height: 280px;
        }
        .ql-editor { color: var(--text) !important; min-height: 260px; line-height: 1.8; font-size: 0.9rem; }
        .ql-editor.ql-blank::before { color: #383838 !important; }
        .ql-snow .ql-stroke { stroke: var(--muted) !important; }
        .ql-snow .ql-fill { fill: var(--muted) !important; }
        .ql-snow .ql-picker { color: var(--muted) !important; }
        .ql-snow .ql-picker-options { background: var(--surface-3) !important; border: 1px solid var(--border-2) !important; }
        .ql-snow.ql-toolbar button:hover .ql-stroke { stroke: var(--text) !important; }

        /* ‚îÄ‚îÄ DYNAMIC LIST ‚îÄ‚îÄ */
        .dyn-list { display: flex; flex-direction: column; gap: 0.5rem; }
        .dyn-item { display: flex; gap: 0.5rem; align-items: center; }
        .dyn-item input { flex: 1; }
        .dyn-remove {
            width: 30px; height: 30px; flex-shrink: 0;
            display: flex; align-items: center; justify-content: center;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 5px;
            color: var(--muted);
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.12s;
        }
        .dyn-remove:hover { background: rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.3); color: var(--danger); }

        .add-item-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
            padding: 0.5rem 0.875rem;
            background: transparent;
            border: 1px dashed var(--border-2);
            border-radius: 5px;
            color: var(--muted);
            font-family: 'Inter', sans-serif;
            font-size: 0.78rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.12s;
            margin-top: 0.25rem;
        }
        .add-item-btn:hover { border-color: var(--primary); color: var(--primary); }

        /* ‚îÄ‚îÄ SECTION DIVIDER ‚îÄ‚îÄ */
        .form-divider {
            border: none;
            border-top: 1px solid var(--border);
        }

        .form-section-label {
            font-size: 0.68rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: var(--muted);
        }

        /* ‚îÄ‚îÄ THUMBNAIL ‚îÄ‚îÄ */
        .thumb-preview {
            width: 100%;
            aspect-ratio: 16/9;
            background: var(--surface-2);
            border: 1px solid var(--border-2);
            border-radius: 5px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.625rem;
        }
        .thumb-preview img { width: 100%; height: 100%; object-fit: cover; }
        .thumb-preview-ph { color: var(--muted); font-size: 0.78rem; }

        /* ‚îÄ‚îÄ TOGGLE ‚îÄ‚îÄ */
        .toggle-row {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--muted);
            cursor: pointer;
            padding: 0.4rem 0.75rem;
            border-radius: 5px;
            border: 1px solid var(--border);
            transition: all 0.12s;
            user-select: none;
        }
        .toggle-row:hover { border-color: var(--border-2); color: var(--text); }
        .toggle-row input[type=checkbox] { accent-color: var(--primary); width: 14px; height: 14px; cursor: pointer; }

        /* ‚îÄ‚îÄ BUTTONS ‚îÄ‚îÄ */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.4rem;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            border: none;
            font-family: 'Inter', sans-serif;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.12s;
            white-space: nowrap;
            text-decoration: none;
            letter-spacing: 0.01em;
        }
        .btn:disabled { opacity: 0.4; cursor: not-allowed; }

        .btn-primary { background: var(--primary); color: #000; }
        .btn-primary:hover:not(:disabled) { background: #E5A800; }

        .btn-ghost { background: transparent; color: var(--muted); border: 1px solid var(--border); }
        .btn-ghost:hover { color: var(--text); border-color: var(--border-2); background: var(--surface-2); }

        .btn-danger-ghost { background: transparent; color: var(--danger); border: 1px solid rgba(239,68,68,0.2); }
        .btn-danger-ghost:hover { background: rgba(239,68,68,0.08); }

        .btn-upload { background: var(--surface-2); color: var(--muted); border: 1px solid var(--border-2); }
        .btn-upload:hover { border-color: var(--primary); color: var(--primary); }
        .btn-upload svg { flex-shrink: 0; }

        /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
        .toast {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            background: var(--surface-2);
            border: 1px solid var(--border-2);
            border-radius: 6px;
            padding: 0.75rem 1.25rem;
            font-size: 0.825rem;
            z-index: 9999;
            transform: translateY(12px);
            opacity: 0;
            transition: transform 0.2s, opacity 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .toast.show { transform: translateY(0); opacity: 1; }
        .toast.success { border-color: rgba(251,191,36,0.25); color: var(--primary); }
        .toast.error { border-color: rgba(239,68,68,0.25); color: #f87171; }

        /* ‚îÄ‚îÄ CONFIRM DIALOG ‚îÄ‚îÄ */
        .confirm-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        .confirm-overlay.open { display: flex; }
        .confirm-box {
            background: var(--surface-2);
            border: 1px solid var(--border-2);
            border-radius: 8px;
            padding: 2rem;
            max-width: 380px;
            width: 100%;
            margin: 1rem;
        }
        .confirm-title { font-size: 1.05rem; font-weight: 700; margin-bottom: 0.5rem; }
        .confirm-body { color: var(--muted); font-size: 0.875rem; margin-bottom: 1.75rem; line-height: 1.6; }
        .confirm-actions { display: flex; gap: 0.625rem; justify-content: flex-end; }
    </style>
</head>
<body>

<!-- LOGIN -->
<div id="login-screen">
    <div class="login-card">
        <img src="logo.png" alt="Switch" class="login-logo">
        <h2 class="login-title">Admin Panel</h2>
        <p class="login-sub">Switch Studio ‚Äî Restricted Access</p>
        <div class="login-field">
            <input type="password" id="login-input" placeholder="Password" autocomplete="current-password">
        </div>
        <div class="login-error" id="login-error">Incorrect password. Try again.</div>
        <button class="btn btn-primary" id="login-btn" style="width:100%;padding:0.7rem;font-size:0.875rem;">Sign in</button>
    </div>
</div>

<!-- APP -->
<div id="app">
    <!-- TOP BAR -->
    <div class="topbar">
        <div class="topbar-brand">
            <img src="logo.png" alt="Switch" class="topbar-logo">
            <span class="topbar-badge">Admin</span>
        </div>
        <nav class="topbar-nav">
            <button class="nav-tab active" data-tab="games">
                <span class="nav-tab-icon">üéÆ</span> Games
            </button>
            <button class="nav-tab" data-tab="blog">
                <span class="nav-tab-icon">üìù</span> Blog
            </button>
            <button class="nav-tab" data-tab="careers">
                <span class="nav-tab-icon">üíº</span> Careers
            </button>
        </nav>
        <div class="topbar-right">
            <a href="/" target="_blank" class="btn btn-ghost" style="font-size:0.78rem;">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                View Site
            </a>
            <button class="btn btn-ghost" id="logout-btn" style="font-size:0.78rem;">Sign Out</button>
        </div>
    </div>

    <!-- WORKSPACE -->
    <div class="workspace">

        <!-- GAMES PANEL -->
        <div class="panel active" id="panel-games">
            <div class="sidebar">
                <div class="sidebar-head">
                    <span class="sidebar-head-title">Games</span>
                    <button class="btn btn-primary" id="new-game-btn" style="font-size:0.75rem;padding:0.375rem 0.75rem;">+ New</button>
                </div>
                <div class="items-list" id="games-list">
                    <div class="no-items">Loading‚Ä¶</div>
                </div>
            </div>
            <div class="editor-area">
                <div class="editor-empty" id="game-empty">
                    <div class="editor-empty-icon">üéÆ</div>
                    <p>Select a game or create a new one</p>
                </div>
                <div class="editor-form" id="game-form">
                    <div class="editor-bar">
                        <button class="btn btn-primary" id="save-game-btn">
                            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                            Save
                        </button>
                        <label class="toggle-row">
                            <input type="checkbox" id="game-active"> Active
                        </label>
                        <label class="toggle-row">
                            <input type="checkbox" id="game-featured"> Featured
                        </label>
                        <div class="editor-bar-spacer"></div>
                        <button class="btn btn-danger-ghost" id="delete-game-btn">Delete</button>
                    </div>
                    <div class="editor-body">
                        <div class="field-group">
                            <span class="field-label">Place ID *</span>
                            <input class="field-input" type="number" id="game-place-id" placeholder="e.g. 2753915549">
                        </div>
                        <div class="field-group">
                            <span class="field-label">Thumbnail</span>
                            <div class="thumb-preview" id="game-thumb-preview">
                                <span class="thumb-preview-ph">No thumbnail uploaded</span>
                            </div>
                            <label class="btn btn-upload" style="cursor:pointer;">
                                <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>
                                Upload Thumbnail
                                <input type="file" id="game-img-input" accept="image/*" style="display:none">
                            </label>
                            <input type="hidden" id="game-thumb-url">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- BLOG PANEL -->
        <div class="panel" id="panel-blog">
            <div class="sidebar">
                <div class="sidebar-head">
                    <span class="sidebar-head-title">Posts</span>
                    <button class="btn btn-primary" id="new-post-btn" style="font-size:0.75rem;padding:0.375rem 0.75rem;">+ New</button>
                </div>
                <div class="sidebar-search">
                    <svg class="sidebar-search-icon" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                    <input type="text" id="blog-search" placeholder="Search posts‚Ä¶">
                </div>
                <div class="items-list" id="posts-list">
                    <div class="no-items">Loading‚Ä¶</div>
                </div>
            </div>
            <div class="editor-area">
                <div class="editor-empty" id="blog-empty">
                    <div class="editor-empty-icon">üìù</div>
                    <p>Select a post or create a new one</p>
                </div>
                <div class="editor-form" id="blog-form">
                    <div class="editor-bar">
                        <button class="btn btn-primary" id="save-post-btn">
                            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                            Save
                        </button>
                        <label class="toggle-row">
                            <input type="checkbox" id="post-publish"> Published
                        </label>
                        <div class="editor-bar-sep"></div>
                        <label class="btn btn-upload" style="cursor:pointer;">
                            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
                            Insert Image
                            <input type="file" id="blog-img-input" accept="image/*" style="display:none">
                        </label>
                        <div class="editor-bar-spacer"></div>
                        <button class="btn btn-danger-ghost" id="delete-post-btn">Delete</button>
                    </div>
                    <div class="editor-body">
                        <input class="post-title-input" type="text" id="post-title" placeholder="Post title‚Ä¶">
                        <div id="quill-editor"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- CAREERS PANEL -->
        <div class="panel" id="panel-careers">
            <div class="sidebar">
                <div class="sidebar-head">
                    <span class="sidebar-head-title">Positions</span>
                    <button class="btn btn-primary" id="new-career-btn" style="font-size:0.75rem;padding:0.375rem 0.75rem;">+ New</button>
                </div>
                <div class="sidebar-search">
                    <svg class="sidebar-search-icon" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                    <input type="text" id="career-search" placeholder="Search positions‚Ä¶">
                </div>
                <div class="items-list" id="careers-list">
                    <div class="no-items">Loading‚Ä¶</div>
                </div>
            </div>
            <div class="editor-area">
                <div class="editor-empty" id="career-empty">
                    <div class="editor-empty-icon">üíº</div>
                    <p>Select a position or create a new one</p>
                </div>
                <div class="editor-form" id="career-form">
                    <div class="editor-bar">
                        <button class="btn btn-primary" id="save-career-btn">
                            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                            Save
                        </button>
                        <label class="toggle-row">
                            <input type="checkbox" id="career-active"> Active
                        </label>
                        <div class="editor-bar-spacer"></div>
                        <button class="btn btn-danger-ghost" id="delete-career-btn">Delete</button>
                    </div>
                    <div class="editor-body">
                        <div class="field-group">
                            <span class="field-label">Job Title *</span>
                            <input class="field-input" type="text" id="career-title" placeholder="e.g. Senior UI Developer">
                        </div>
                        <div class="grid-3">
                            <div class="field-group">
                                <span class="field-label">Department</span>
                                <input class="field-input" type="text" id="career-dept" placeholder="e.g. Engineering">
                            </div>
                            <div class="field-group">
                                <span class="field-label">Type</span>
                                <select class="field-select" id="career-type">
                                    <option>Full-time</option>
                                    <option>Part-time</option>
                                    <option>Contract</option>
                                    <option>Volunteer</option>
                                    <option>Internship</option>
                                </select>
                            </div>
                            <div class="field-group">
                                <span class="field-label">Location</span>
                                <input class="field-input" type="text" id="career-location" placeholder="e.g. Remote">
                            </div>
                        </div>
                        <div class="field-group">
                            <span class="field-label">Description</span>
                            <textarea class="field-textarea" id="career-desc" rows="4" placeholder="What will this person be doing?"></textarea>
                        </div>

                        <hr class="form-divider">
                        <span class="form-section-label">Requirements</span>
                        <div class="dyn-list" id="req-list"></div>
                        <button class="add-item-btn" id="add-req">+ Add requirement</button>

                        <hr class="form-divider">
                        <span class="form-section-label">Nice to Have</span>
                        <div class="dyn-list" id="nice-list"></div>
                        <button class="add-item-btn" id="add-nice">+ Add nice-to-have</button>

                        <hr class="form-divider">
                        <span class="form-section-label">Application Questions</span>
                        <div class="dyn-list" id="q-list"></div>
                        <button class="add-item-btn" id="add-q">+ Add question</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- CONFIRM DIALOG -->
<div class="confirm-overlay" id="confirm-overlay">
    <div class="confirm-box">
        <h3 class="confirm-title" id="confirm-title">Are you sure?</h3>
        <p class="confirm-body" id="confirm-body">This action cannot be undone.</p>
        <div class="confirm-actions">
            <button class="btn btn-ghost" id="confirm-cancel">Cancel</button>
            <button class="btn btn-danger-ghost" id="confirm-ok">Delete</button>
        </div>
    </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/quill/1.3.7/quill.min.js"></script>
<script>
// ‚îÄ‚îÄ STATE ‚îÄ‚îÄ
let token = sessionStorage.getItem('sw_token');
let posts = [], careers = [], games = [];
let activePostId = null, activeCareerId = null, activeGameId = null;
let quill = null;

// ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ
function toast(msg, type = 'success') {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.className = `toast ${type} show`;
    setTimeout(() => t.classList.remove('show'), 3000);
}

function fmtDate(iso) {
    return new Date(iso).toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' });
}

function confirm(title, body, onOk) {
    document.getElementById('confirm-title').textContent = title;
    document.getElementById('confirm-body').textContent = body;
    document.getElementById('confirm-overlay').classList.add('open');
    const ok = document.getElementById('confirm-ok');
    const cancel = document.getElementById('confirm-cancel');
    const close = () => document.getElementById('confirm-overlay').classList.remove('open');
    ok.onclick = () => { close(); onOk(); };
    cancel.onclick = close;
}

// ‚îÄ‚îÄ AUTH ‚îÄ‚îÄ
if (token) initApp();

document.getElementById('login-btn').addEventListener('click', async () => {
    const pw = document.getElementById('login-input').value;
    const err = document.getElementById('login-error');
    const btn = document.getElementById('login-btn');
    btn.disabled = true; btn.textContent = 'Signing in‚Ä¶'; err.style.display = 'none';
    try {
        const res = await fetch('/api/admin/login', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ password: pw }) });
        const data = await res.json();
        if (res.ok) { token = data.token; sessionStorage.setItem('sw_token', token); initApp(); }
        else { err.style.display = 'block'; }
    } catch { err.textContent = 'Connection error'; err.style.display = 'block'; }
    btn.disabled = false; btn.textContent = 'Sign in';
});

document.getElementById('login-input').addEventListener('keydown', e => { if (e.key === 'Enter') document.getElementById('login-btn').click(); });

document.getElementById('logout-btn').addEventListener('click', async () => {
    await fetch('/api/admin/logout', { method: 'POST', headers: { 'x-admin-token': token } }).catch(() => {});
    sessionStorage.removeItem('sw_token');
    location.reload();
});

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
function initApp() {
    document.getElementById('login-screen').style.display = 'none';
    document.getElementById('app').style.display = 'flex';
    initQuill();
    loadGames(); loadPosts(); loadCareers();
}

// ‚îÄ‚îÄ TABS ‚îÄ‚îÄ
document.querySelectorAll('.nav-tab').forEach(tab => {
    tab.addEventListener('click', () => {
        document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(`panel-${tab.dataset.tab}`).classList.add('active');
    });
});

// ‚îÄ‚îÄ QUILL ‚îÄ‚îÄ
function initQuill() {
    quill = new Quill('#quill-editor', {
        theme: 'snow',
        placeholder: 'Write your post‚Ä¶',
        modules: {
            toolbar: [
                [{ header: [1, 2, 3, false] }],
                ['bold', 'italic', 'underline'],
                [{ list: 'ordered' }, { list: 'bullet' }],
                ['blockquote', 'link'],
                ['clean']
            ]
        }
    });
}

// ‚îÄ‚îÄ IMAGE UPLOAD ‚îÄ‚îÄ
async function uploadImage(file, token) {
    const fd = new FormData(); fd.append('image', file);
    const res = await fetch('/api/admin/upload', { method: 'POST', headers: { 'x-admin-token': token }, body: fd });
    const d = await res.json();
    if (!res.ok) throw new Error(d.message || 'Upload failed');
    return d.url;
}

document.getElementById('blog-img-input').addEventListener('change', async e => {
    const file = e.target.files[0]; if (!file) return;
    try {
        const url = await uploadImage(file, token);
        const idx = quill.getSelection(true)?.index ?? quill.getLength();
        quill.insertEmbed(idx, 'image', url);
        toast('Image inserted ‚úì');
    } catch (err) { toast(err.message, 'error'); }
    e.target.value = '';
});

document.getElementById('game-img-input').addEventListener('change', async e => {
    const file = e.target.files[0]; if (!file) return;
    try {
        const url = await uploadImage(file, token);
        document.getElementById('game-thumb-url').value = url;
        document.getElementById('game-thumb-preview').innerHTML = `<img src="${url}">`;
        toast('Thumbnail uploaded ‚úì');
    } catch (err) { toast(err.message, 'error'); }
    e.target.value = '';
});

// ‚îÄ‚îÄ SIDEBAR SEARCH ‚îÄ‚îÄ
document.getElementById('blog-search').addEventListener('input', function() {
    const q = this.value.toLowerCase();
    document.querySelectorAll('#posts-list .list-item').forEach(el => {
        el.style.display = el.dataset.search?.includes(q) ? '' : 'none';
    });
});

document.getElementById('career-search').addEventListener('input', function() {
    const q = this.value.toLowerCase();
    document.querySelectorAll('#careers-list .list-item').forEach(el => {
        el.style.display = el.dataset.search?.includes(q) ? '' : 'none';
    });
});

// ‚îÄ‚îÄ KEYBOARD SHORTCUT ‚îÄ‚îÄ
document.addEventListener('keydown', e => {
    if ((e.ctrlKey || e.metaKey) && e.key === 's') {
        e.preventDefault();
        const active = document.querySelector('.nav-tab.active')?.dataset.tab;
        if (active === 'games') document.getElementById('save-game-btn').click();
        if (active === 'blog') document.getElementById('save-post-btn').click();
        if (active === 'careers') document.getElementById('save-career-btn').click();
    }
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GAMES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadGames() {
    try {
        const res = await fetch('/api/admin/games', { headers: { 'x-admin-token': token } });
        games = (await res.json()).games || [];
        renderGames();
    } catch { toast('Failed to load games', 'error'); }
}

function renderGames() {
    const list = document.getElementById('games-list');
    if (!games.length) { list.innerHTML = '<div class="no-items">No games yet.<br>Hit <strong>+ New</strong> to add one.</div>'; return; }
    list.innerHTML = games.map(g => `
        <div class="list-item ${g.id === activeGameId ? 'active' : ''}" data-id="${g.id}">
            <div class="list-item-title">${g.placeId ? `Place ${g.placeId}` : 'New Game'}</div>
            <div class="list-item-meta">
                ${g.featured ? '<span class="badge badge-featured">Featured</span>' : ''}
                <span class="badge ${g.active ? 'badge-live' : 'badge-draft'}">${g.active ? 'Active' : 'Inactive'}</span>
            </div>
        </div>
    `).join('');
    document.querySelectorAll('#games-list .list-item').forEach(el => el.addEventListener('click', () => openGame(el.dataset.id)));
}

function openGame(id) {
    activeGameId = id;
    const g = games.find(g => g.id === id); if (!g) return;
    document.getElementById('game-empty').style.display = 'none';
    document.getElementById('game-form').style.display = 'flex';
    document.getElementById('game-place-id').value = g.placeId || '';
    document.getElementById('game-active').checked = g.active !== false;
    document.getElementById('game-featured').checked = g.featured || false;
    document.getElementById('game-thumb-url').value = g.thumbnail || '';
    document.getElementById('game-thumb-preview').innerHTML = g.thumbnail
        ? `<img src="${g.thumbnail}">`
        : '<span class="thumb-preview-ph">No thumbnail uploaded</span>';
    renderGames();
}

document.getElementById('new-game-btn').addEventListener('click', async () => {
    try {
        const res = await fetch('/api/admin/games', { method: 'POST', headers: { 'Content-Type': 'application/json', 'x-admin-token': token }, body: JSON.stringify({ placeId: '', active: false, featured: false, thumbnail: '' }) });
        const d = await res.json();
        games.unshift(d.game); openGame(d.game.id); toast('New game created');
    } catch { toast('Failed to create game', 'error'); }
});

document.getElementById('save-game-btn').addEventListener('click', async () => {
    if (!activeGameId) return;
    const btn = document.getElementById('save-game-btn');
    btn.disabled = true; btn.textContent = 'Saving‚Ä¶';
    try {
        const res = await fetch(`/api/admin/games/${activeGameId}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json', 'x-admin-token': token },
            body: JSON.stringify({ placeId: document.getElementById('game-place-id').value, active: document.getElementById('game-active').checked, featured: document.getElementById('game-featured').checked, thumbnail: document.getElementById('game-thumb-url').value })
        });
        const d = await res.json();
        const idx = games.findIndex(g => g.id === activeGameId); if (idx !== -1) games[idx] = d.game;
        renderGames(); toast('Game saved ‚úì');
    } catch { toast('Failed to save', 'error'); }
    btn.disabled = false; btn.innerHTML = '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg> Save';
});

document.getElementById('delete-game-btn').addEventListener('click', () => {
    if (!activeGameId) return;
    confirm('Delete Game?', 'This will permanently remove the game. This cannot be undone.', async () => {
        try {
            await fetch(`/api/admin/games/${activeGameId}`, { method: 'DELETE', headers: { 'x-admin-token': token } });
            games = games.filter(g => g.id !== activeGameId); activeGameId = null;
            document.getElementById('game-empty').style.display = 'flex';
            document.getElementById('game-form').style.display = 'none';
            renderGames(); toast('Game deleted');
        } catch { toast('Failed to delete', 'error'); }
    });
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ BLOG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadPosts() {
    try {
        const res = await fetch('/api/admin/posts', { headers: { 'x-admin-token': token } });
        posts = (await res.json()).posts || [];
        renderPosts();
    } catch { toast('Failed to load posts', 'error'); }
}

function renderPosts() {
    const list = document.getElementById('posts-list');
    if (!posts.length) { list.innerHTML = '<div class="no-items">No posts yet.</div>'; return; }
    list.innerHTML = posts.map(p => `
        <div class="list-item ${p.id === activePostId ? 'active' : ''}" data-id="${p.id}" data-search="${(p.title || '').toLowerCase()}">
            <div class="list-item-title">${p.title || 'Untitled'}</div>
            <div class="list-item-meta">
                <span>${fmtDate(p.updatedAt)}</span>
                <span class="badge ${p.published ? 'badge-live' : 'badge-draft'}">${p.published ? 'Live' : 'Draft'}</span>
            </div>
        </div>
    `).join('');
    document.querySelectorAll('#posts-list .list-item').forEach(el => el.addEventListener('click', () => openPost(el.dataset.id)));
}

function openPost(id) {
    activePostId = id;
    const p = posts.find(p => p.id === id); if (!p) return;
    document.getElementById('blog-empty').style.display = 'none';
    document.getElementById('blog-form').style.display = 'flex';
    document.getElementById('post-title').value = p.title || '';
    quill.root.innerHTML = p.content || '';
    document.getElementById('post-publish').checked = p.published || false;
    renderPosts();
}

document.getElementById('new-post-btn').addEventListener('click', async () => {
    try {
        const res = await fetch('/api/admin/posts', { method: 'POST', headers: { 'Content-Type': 'application/json', 'x-admin-token': token }, body: JSON.stringify({ title: 'Untitled Post', content: '', published: false }) });
        const d = await res.json(); posts.unshift(d.post); openPost(d.post.id); toast('Post created');
    } catch { toast('Failed to create post', 'error'); }
});

document.getElementById('save-post-btn').addEventListener('click', async () => {
    if (!activePostId) return;
    const btn = document.getElementById('save-post-btn');
    btn.disabled = true; btn.textContent = 'Saving‚Ä¶';
    try {
        const res = await fetch(`/api/admin/posts/${activePostId}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json', 'x-admin-token': token },
            body: JSON.stringify({ title: document.getElementById('post-title').value, content: quill.root.innerHTML, published: document.getElementById('post-publish').checked })
        });
        const d = await res.json();
        const idx = posts.findIndex(p => p.id === activePostId); if (idx !== -1) posts[idx] = d.post;
        renderPosts(); toast('Post saved ‚úì');
    } catch { toast('Failed to save', 'error'); }
    btn.disabled = false; btn.innerHTML = '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg> Save';
});

document.getElementById('delete-post-btn').addEventListener('click', () => {
    if (!activePostId) return;
    confirm('Delete Post?', 'This will permanently delete this blog post. This cannot be undone.', async () => {
        try {
            await fetch(`/api/admin/posts/${activePostId}`, { method: 'DELETE', headers: { 'x-admin-token': token } });
            posts = posts.filter(p => p.id !== activePostId); activePostId = null;
            document.getElementById('blog-empty').style.display = 'flex';
            document.getElementById('blog-form').style.display = 'none';
            renderPosts(); toast('Post deleted');
        } catch { toast('Failed to delete', 'error'); }
    });
});

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CAREERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
async function loadCareers() {
    try {
        const res = await fetch('/api/admin/careers', { headers: { 'x-admin-token': token } });
        careers = (await res.json()).careers || [];
        renderCareers();
    } catch { toast('Failed to load careers', 'error'); }
}

function renderCareers() {
    const list = document.getElementById('careers-list');
    if (!careers.length) { list.innerHTML = '<div class="no-items">No positions yet.</div>'; return; }
    list.innerHTML = careers.map(c => `
        <div class="list-item ${c.id === activeCareerId ? 'active' : ''}" data-id="${c.id}" data-search="${(c.title || '').toLowerCase()}">
            <div class="list-item-title">${c.title || 'Untitled Position'}</div>
            <div class="list-item-meta">
                <span>${c.type} ¬∑ ${c.location}</span>
                <span class="badge ${c.active ? 'badge-live' : 'badge-draft'}">${c.active ? 'Active' : 'Inactive'}</span>
            </div>
        </div>
    `).join('');
    document.querySelectorAll('#careers-list .list-item').forEach(el => el.addEventListener('click', () => openCareer(el.dataset.id)));
}

function dynItem(listId, val = '') {
    const list = document.getElementById(listId);
    const div = document.createElement('div'); div.className = 'dyn-item';
    div.innerHTML = `<input class="field-input" type="text" value="${val.replace(/"/g,'&quot;')}" placeholder="Enter text‚Ä¶"><button class="dyn-remove" title="Remove">√ó</button>`;
    div.querySelector('.dyn-remove').addEventListener('click', () => div.remove());
    list.appendChild(div);
}

function dynValues(listId) {
    return Array.from(document.querySelectorAll(`#${listId} .dyn-item input`)).map(i => i.value.trim()).filter(Boolean);
}

document.getElementById('add-req').addEventListener('click', () => dynItem('req-list'));
document.getElementById('add-nice').addEventListener('click', () => dynItem('nice-list'));
document.getElementById('add-q').addEventListener('click', () => dynItem('q-list'));

function openCareer(id) {
    activeCareerId = id;
    const c = careers.find(c => c.id === id); if (!c) return;
    document.getElementById('career-empty').style.display = 'none';
    document.getElementById('career-form').style.display = 'flex';
    document.getElementById('career-title').value = c.title || '';
    document.getElementById('career-dept').value = c.department || '';
    document.getElementById('career-type').value = c.type || 'Full-time';
    document.getElementById('career-location').value = c.location || '';
    document.getElementById('career-desc').value = c.description || '';
    document.getElementById('career-active').checked = c.active !== false;
    document.getElementById('req-list').innerHTML = '';
    (c.requirements || []).forEach(r => dynItem('req-list', r));
    document.getElementById('nice-list').innerHTML = '';
    (c.niceToHave || []).forEach(r => dynItem('nice-list', r));
    document.getElementById('q-list').innerHTML = '';
    (c.questions || []).forEach(q => dynItem('q-list', typeof q === 'string' ? q : q.label));
    renderCareers();
}

document.getElementById('new-career-btn').addEventListener('click', async () => {
    try {
        const res = await fetch('/api/admin/careers', { method: 'POST', headers: { 'Content-Type': 'application/json', 'x-admin-token': token }, body: JSON.stringify({ title: 'New Position', type: 'Full-time', location: 'Remote', active: false }) });
        const d = await res.json(); careers.unshift(d.career); openCareer(d.career.id); toast('Position created');
    } catch { toast('Failed to create position', 'error'); }
});

document.getElementById('save-career-btn').addEventListener('click', async () => {
    if (!activeCareerId) return;
    const btn = document.getElementById('save-career-btn');
    btn.disabled = true; btn.textContent = 'Saving‚Ä¶';
    const questions = dynValues('q-list').map(q => ({ label: q, required: true }));
    try {
        const res = await fetch(`/api/admin/careers/${activeCareerId}`, {
            method: 'PUT',
            headers: { 'Content-Type': 'application/json', 'x-admin-token': token },
            body: JSON.stringify({
                title: document.getElementById('career-title').value,
                department: document.getElementById('career-dept').value,
                type: document.getElementById('career-type').value,
                location: document.getElementById('career-location').value,
                description: document.getElementById('career-desc').value,
                requirements: dynValues('req-list'),
                niceToHave: dynValues('nice-list'),
                questions,
                active: document.getElementById('career-active').checked
            })
        });
        const d = await res.json();
        const idx = careers.findIndex(c => c.id === activeCareerId); if (idx !== -1) careers[idx] = d.career;
        renderCareers(); toast('Position saved ‚úì');
    } catch { toast('Failed to save', 'error'); }
    btn.disabled = false; btn.innerHTML = '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg> Save';
});

document.getElementById('delete-career-btn').addEventListener('click', () => {
    if (!activeCareerId) return;
    confirm('Delete Position?', 'This will permanently remove this job posting. This cannot be undone.', async () => {
        try {
            await fetch(`/api/admin/careers/${activeCareerId}`, { method: 'DELETE', headers: { 'x-admin-token': token } });
            careers = careers.filter(c => c.id !== activeCareerId); activeCareerId = null;
            document.getElementById('career-empty').style.display = 'flex';
            document.getElementById('career-form').style.display = 'none';
            renderCareers(); toast('Position deleted');
        } catch { toast('Failed to delete', 'error'); }
    });
});
</script>
</body>
</html>